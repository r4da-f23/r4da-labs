<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Viktoriia Semenova">
<meta name="dcterms.date" content="2023-09-27">

<title>Lab 4: Data Wrangling with dplyr and tidyr</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="r4da-week04_files/libs/clipboard/clipboard.min.js"></script>
<script src="r4da-week04_files/libs/quarto-html/quarto.js"></script>
<script src="r4da-week04_files/libs/quarto-html/popper.min.js"></script>
<script src="r4da-week04_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="r4da-week04_files/libs/quarto-html/anchor.min.js"></script>
<link href="r4da-week04_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="r4da-week04_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="r4da-week04_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="r4da-week04_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="r4da-week04_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Lab 4: Data Wrangling with <code>dplyr</code> and <code>tidyr</code></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Viktoriia Semenova </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 27, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div style="page-break-after: always;"></div>
<section id="replication-text-beyond-keeping-peace-united-nations-effectiveness-in-the-midst-of-fighting" class="level2">
<h2 class="anchored" data-anchor-id="replication-text-beyond-keeping-peace-united-nations-effectiveness-in-the-midst-of-fighting">Replication Text: <em>Beyond Keeping Peace: United Nations Effectiveness in the Midst of Fighting</em></h2>
<blockquote class="blockquote">
<p>While United Nations peacekeeping missions were created to keep peace and perform post-conflict activities, since the end of the Cold War peacekeepers are more often deployed to active conflicts. Yet, we know little about their ability to manage ongoing violence. This article provides the first broad empirical examination of UN peacekeeping effectiveness in reducing battlefield violence in civil wars. We analyze how the number of UN peacekeeping personnel deployed influences the amount of battlefield deaths in all civil wars in Africa from 1992 to 2011. The analyses show that increasing numbers of armed military troops are associated with reduced battlefield deaths, while police and observers are not. Considering that the UN is often criticized for ineffectiveness, these results have important implications: if appropriately composed, UN peacekeeping missions reduce violent conflict.</p>
</blockquote>
<p>In the upcoming labs, we will refer to this article by Lisa Hultman, Jacob Kathman, and Megan Shannon, published in 2014 in the <em>American Political Science Review</em>. It is a good example of a well-structured empirical article (which you could use as a reference when writing your own papers), and replicating it would involve various common tasks in data analysis.</p>
</section>
<section id="exploring-the-dataset-un-peacekeeping-personnel-from-1990-2011-by-jakob-kathman" class="level2">
<h2 class="anchored" data-anchor-id="exploring-the-dataset-un-peacekeeping-personnel-from-1990-2011-by-jakob-kathman">Exploring the Dataset: UN peacekeeping personnel (from 1990-2011) by <a href="http://jacobkathman.weebly.com/research.html">Jakob Kathman</a></h2>
<p>The dataset can be downloaded from this page: <a href="https://kathmanundata.weebly.com/mission-personnel-dataset.html" class="uri">https://kathmanundata.weebly.com/mission-personnel-dataset.html</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(unpko)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 6,175
Columns: 12
$ mission           &lt;chr&gt; "BINUB", "BINUB", "BINUB", "BINUB", "BINUB", "BINUB"…
$ missioncountry    &lt;chr&gt; "Burundi", "Burundi", "Burundi", "Burundi", "Burundi…
$ missionccode      &lt;dbl&gt; 516, 516, 516, 516, 516, 516, 516, 516, 516, 516, 51…
$ missionccode2     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ year              &lt;dbl&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…
$ month             &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 1, 2, 3, 4, 5…
$ yearmon           &lt;dbl&gt; 2007.01, 2007.02, 2007.03, 2007.04, 2007.05, 2007.06…
$ troop             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ police            &lt;dbl&gt; 11, 11, 11, 11, 11, 11, 11, 12, 12, 12, 12, 12, 12, …
$ militaryobservers &lt;dbl&gt; 0, 0, 3, 4, 4, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 8, 8, 8…
$ total             &lt;dbl&gt; 11, 11, 14, 15, 15, 15, 15, 18, 18, 20, 20, 20, 20, …
$ total2            &lt;dbl&gt; 11, 11, 14, 15, 15, 15, 15, 18, 18, 20, 20, 20, 20, …</code></pre>
</div>
</div>
</section>
<section id="basic-data-wrangling-functions" class="level2">
<h2 class="anchored" data-anchor-id="basic-data-wrangling-functions">Basic Data Wrangling Functions</h2>
<p>We can’t use all the beautiful plots until we have “wrangled” the data into a convenient shape and have all the variables we need for plotting. You have seen some of these functions already, but let’s now look at them a bit more systematically. Key wrangling functions include:</p>
<ul>
<li><p><code>filter()</code>: to pick out the <em>rows</em> we want to keep from a tibble.</p></li>
<li><p><code>select()</code>: to pick out the <em>columns</em> we want to keep from a tibble.</p></li>
<li><p><code>arrange()</code>: to sort the rows in a tibble, in either ascending or descending order.</p></li>
<li><p><code>mutate()</code>: to create new columns.</p></li>
<li><p><code>summarize()</code>: to create a new tibble comprised of summary statistics for one (or more) rows, depending on the use of the <code>.by</code> argument.</p></li>
</ul>
<section id="the-pipe-operator-again" class="level3">
<h3 class="anchored" data-anchor-id="the-pipe-operator-again">The pipe operator: <code>%&gt;%</code> (again)</h3>
<p>The pipe operator (<code>%&gt;%</code>) allows us to combine multiple operations in <code>R</code> into a single sequential <em>chain</em> of actions. Much like how the <code>+</code> sign has to come at the end of the line when constructing plots — because we are building the plot layer-by-layer — the pipe operator <code>%&gt;%</code> has to come at the end of the line because we are building a data wrangling pipeline step-by-step. If you do not include the pipe operator, R assumes the next line of code is unrelated to the layers you built and you will get an error.</p>
</section>
<section id="filter-rows" class="level3">
<h3 class="anchored" data-anchor-id="filter-rows"><code>filter</code> rows</h3>
<p>The <code>filter()</code> function works much like the “Filter” option in Microsoft Excel. It allows you to specify criteria about the values of a variable in your dataset and then selects only the rows that match that criteria.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(missioncountry <span class="sc">==</span> <span class="st">"Rwanda"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 45 × 12
   mission missioncountry missionccode missionccode2  year month yearmon troop
   &lt;chr&gt;   &lt;chr&gt;                 &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
 1 UNAMIR  Rwanda                  517            NA  1993    10   1993.    23
 2 UNAMIR  Rwanda                  517            NA  1993    11   1993.   444
 3 UNAMIR  Rwanda                  517            NA  1993    12   1993.  1012
 4 UNAMIR  Rwanda                  517            NA  1994     1   1994.  1393
 5 UNAMIR  Rwanda                  517            NA  1994     2   1994.  1844
 6 UNAMIR  Rwanda                  517            NA  1994     3   1994.  2184
 7 UNAMIR  Rwanda                  517            NA  1994     4   1994.   374
 8 UNAMIR  Rwanda                  517            NA  1994     5   1994.   381
 9 UNAMIR  Rwanda                  517            NA  1994     6   1994.   328
10 UNAMIR  Rwanda                  517            NA  1994     7   1994.   930
# ℹ 35 more rows
# ℹ 4 more variables: police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;, total &lt;dbl&gt;,
#   total2 &lt;dbl&gt;</code></pre>
</div>
</div>
<p>Here are a few more operators that we can use here:</p>
<ul>
<li><code>&gt;</code> for “greater than”</li>
<li><code>&lt;</code> for “less than”</li>
<li><code>&gt;=</code> for “greater than or equal to”</li>
<li><code>&lt;=</code> for “less than or equal to”</li>
<li><code>!=</code> for “not equal to”</li>
<li><code>%in%</code> for “inside”</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># everything but Rwanda (show, not store in the environment)</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(missioncountry <span class="sc">!=</span> <span class="st">"Rwanda"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,130 × 12
   mission missioncountry missionccode missionccode2  year month yearmon troop
   &lt;chr&gt;   &lt;chr&gt;                 &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
 1 BINUB   Burundi                 516            NA  2007     1   2007.     0
 2 BINUB   Burundi                 516            NA  2007     2   2007.     0
 3 BINUB   Burundi                 516            NA  2007     3   2007.     0
 4 BINUB   Burundi                 516            NA  2007     4   2007.     0
 5 BINUB   Burundi                 516            NA  2007     5   2007.     0
 6 BINUB   Burundi                 516            NA  2007     6   2007.     0
 7 BINUB   Burundi                 516            NA  2007     7   2007.     0
 8 BINUB   Burundi                 516            NA  2007     8   2007.     0
 9 BINUB   Burundi                 516            NA  2007     9   2007.     0
10 BINUB   Burundi                 516            NA  2007    10   2007.     0
# ℹ 6,120 more rows
# ℹ 4 more variables: police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;, total &lt;dbl&gt;,
#   total2 &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># every row where troop index is ABOVE 10</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(troop <span class="sc">&gt;</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3,686 × 12
   mission missioncountry   missionccode missionccode2  year month yearmon troop
   &lt;chr&gt;   &lt;chr&gt;                   &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
 1 BONUCA  Central African…          482            NA  2000     2   2000.   185
 2 LBB     Unknown                  -999            NA  1997     4   1997.    23
 3 LBB     Unknown                  -999            NA  1997     5   1997.    23
 4 MINURCA Central African…          482            NA  1998     4   1998.  1218
 5 MINURCA Central African…          482            NA  1998     5   1998.  1221
 6 MINURCA Central African…          482            NA  1998     6   1998.  1362
 7 MINURCA Central African…          482            NA  1998     7   1998.  1345
 8 MINURCA Central African…          482            NA  1998     8   1998.  1345
 9 MINURCA Central African…          482            NA  1998     9   1998.  1345
10 MINURCA Central African…          482            NA  1998    10   1998.  1347
# ℹ 3,676 more rows
# ℹ 4 more variables: police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;, total &lt;dbl&gt;,
#   total2 &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># every row where deaths_civilians index is  EQUAL TO or ABOVE 10</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(troop <span class="sc">&gt;=</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3,690 × 12
   mission missioncountry   missionccode missionccode2  year month yearmon troop
   &lt;chr&gt;   &lt;chr&gt;                   &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
 1 BONUCA  Central African…          482            NA  2000     2   2000.   185
 2 LBB     Unknown                  -999            NA  1997     4   1997.    23
 3 LBB     Unknown                  -999            NA  1997     5   1997.    23
 4 MINURCA Central African…          482            NA  1998     4   1998.  1218
 5 MINURCA Central African…          482            NA  1998     5   1998.  1221
 6 MINURCA Central African…          482            NA  1998     6   1998.  1362
 7 MINURCA Central African…          482            NA  1998     7   1998.  1345
 8 MINURCA Central African…          482            NA  1998     8   1998.  1345
 9 MINURCA Central African…          482            NA  1998     9   1998.  1345
10 MINURCA Central African…          482            NA  1998    10   1998.  1347
# ℹ 3,680 more rows
# ℹ 4 more variables: police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;, total &lt;dbl&gt;,
#   total2 &lt;dbl&gt;</code></pre>
</div>
</div>
<p>Furthermore, you can combine multiple criteria using operators that make comparisons:</p>
<ul>
<li><code>|</code> for “or”</li>
<li><code>&amp;</code> for “and” (or just <code>,</code>)</li>
<li><code>!</code> for “not”</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    year <span class="sc">&gt;</span> <span class="dv">2005</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    missioncountry <span class="sc">==</span> <span class="st">"Kosovo"</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 143 × 12
   mission missioncountry missionccode missionccode2  year month yearmon troop
   &lt;chr&gt;   &lt;chr&gt;                 &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
 1 UNMIK   Kosovo                  347            NA  2008     2   2008.     0
 2 UNMIK   Kosovo                  347            NA  2008     3   2008.     0
 3 UNMIK   Kosovo                  347            NA  2008     4   2008.     0
 4 UNMIK   Kosovo                  347            NA  2008     5   2008.     0
 5 UNMIK   Kosovo                  347            NA  2008     6   2008.     0
 6 UNMIK   Kosovo                  347            NA  2008     7   2008.     0
 7 UNMIK   Kosovo                  347            NA  2008     8   2008.     0
 8 UNMIK   Kosovo                  347            NA  2008     9   2008.     0
 9 UNMIK   Kosovo                  347            NA  2008    10   2008.     0
10 UNMIK   Kosovo                  347            NA  2008    11   2008.     0
# ℹ 133 more rows
# ℹ 4 more variables: police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;, total &lt;dbl&gt;,
#   total2 &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    year <span class="sc">&gt;</span> <span class="dv">2000</span>,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    missioncountry <span class="sc">==</span> <span class="st">"Kosovo"</span> <span class="sc">|</span> missioncountry <span class="sc">==</span> <span class="st">"Burundi"</span>,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    total <span class="sc">&gt;</span>  <span class="fu">mean</span>(total, <span class="at">na.rm =</span> T)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 19 × 12
   mission missioncountry missionccode missionccode2  year month yearmon troop
   &lt;chr&gt;   &lt;chr&gt;                 &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
 1 ONUB    Burundi                 516            NA  2004     9   2004.  4324
 2 ONUB    Burundi                 516            NA  2004    10   2004.  5262
 3 ONUB    Burundi                 516            NA  2004    11   2004.  5291
 4 ONUB    Burundi                 516            NA  2004    12   2004.  5190
 5 ONUB    Burundi                 516            NA  2005     1   2005.  5188
 6 ONUB    Burundi                 516            NA  2005     2   2005.  5174
 7 ONUB    Burundi                 516            NA  2005     3   2005.  5169
 8 ONUB    Burundi                 516            NA  2005     4   2005.  5186
 9 ONUB    Burundi                 516            NA  2005     5   2005.  5168
10 ONUB    Burundi                 516            NA  2005     6   2005.  5314
11 ONUB    Burundi                 516            NA  2005     7   2005.  5316
12 ONUB    Burundi                 516            NA  2005     8   2005.  5344
13 ONUB    Burundi                 516            NA  2005     9   2005.  5400
14 ONUB    Burundi                 516            NA  2005    10   2005.  5364
15 ONUB    Burundi                 516            NA  2005    11   2005.  5336
16 ONUB    Burundi                 516            NA  2005    12   2005.  5170
17 ONUB    Burundi                 516            NA  2006     1   2006.  5153
18 ONUB    Burundi                 516            NA  2006     2   2006.  4396
19 ONUB    Burundi                 516            NA  2006     3   2006.  3741
# ℹ 4 more variables: police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;, total &lt;dbl&gt;,
#   total2 &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># same result but %in% instead or OR (|) for regions  </span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    year <span class="sc">&gt;</span> <span class="dv">2000</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    missioncountry <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Kosovo"</span>, <span class="st">"Burundi"</span>),</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    total <span class="sc">&gt;</span>  <span class="fu">mean</span>(total, <span class="at">na.rm =</span> T)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 19 × 12
   mission missioncountry missionccode missionccode2  year month yearmon troop
   &lt;chr&gt;   &lt;chr&gt;                 &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
 1 ONUB    Burundi                 516            NA  2004     9   2004.  4324
 2 ONUB    Burundi                 516            NA  2004    10   2004.  5262
 3 ONUB    Burundi                 516            NA  2004    11   2004.  5291
 4 ONUB    Burundi                 516            NA  2004    12   2004.  5190
 5 ONUB    Burundi                 516            NA  2005     1   2005.  5188
 6 ONUB    Burundi                 516            NA  2005     2   2005.  5174
 7 ONUB    Burundi                 516            NA  2005     3   2005.  5169
 8 ONUB    Burundi                 516            NA  2005     4   2005.  5186
 9 ONUB    Burundi                 516            NA  2005     5   2005.  5168
10 ONUB    Burundi                 516            NA  2005     6   2005.  5314
11 ONUB    Burundi                 516            NA  2005     7   2005.  5316
12 ONUB    Burundi                 516            NA  2005     8   2005.  5344
13 ONUB    Burundi                 516            NA  2005     9   2005.  5400
14 ONUB    Burundi                 516            NA  2005    10   2005.  5364
15 ONUB    Burundi                 516            NA  2005    11   2005.  5336
16 ONUB    Burundi                 516            NA  2005    12   2005.  5170
17 ONUB    Burundi                 516            NA  2006     1   2006.  5153
18 ONUB    Burundi                 516            NA  2006     2   2006.  4396
19 ONUB    Burundi                 516            NA  2006     3   2006.  3741
# ℹ 4 more variables: police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;, total &lt;dbl&gt;,
#   total2 &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="arrange-rows" class="level3">
<h3 class="anchored" data-anchor-id="arrange-rows"><code>arrange</code> rows</h3>
<p><code>arrange()</code> allows us to sort/reorder a tibble’s (dataframe) rows according to the values of a specific variable. Unlike <code>filter()</code> or <code>select()</code>, <code>arrange()</code> does not remove any rows or columns from the tibble. Example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(total) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,175 × 12
   mission  missioncountry  missionccode missionccode2  year month yearmon troop
   &lt;chr&gt;    &lt;chr&gt;                  &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
 1 MINURSO  Morocco                  600            NA  1992     5   1992.  -999
 2 MINURSO  Morocco                  600            NA  1992     6   1992.  -999
 3 MINURSO  Morocco                  600            NA  1992     7   1992.  -999
 4 MINURSO  Morocco                  600            NA  2014     9   2014.  -999
 5 MINURSO  Morocco                  600            NA  2017     7   2017.  -999
 6 MINUSCA  Central Africa…          482            NA  2014     9   2014.  -999
 7 MINUSCA  Central Africa…          482            NA  2017     7   2017.  -999
 8 MINUSMA  Mali                     432            NA  2014     9   2014.  -999
 9 MINUSMA  Mali                     432            NA  2017     7   2017.  -999
10 MINUSTAH Haiti                     41            NA  2014     9   2014.  -999
# ℹ 6,165 more rows
# ℹ 4 more variables: police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;, total &lt;dbl&gt;,
#   total2 &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,175 × 12
   mission  missioncountry  missionccode missionccode2  year month yearmon troop
   &lt;chr&gt;    &lt;chr&gt;                  &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
 1 UNPROFOR Croatia-Bosnia…          344           346  1994     9   1994. 38614
 2 UNPROFOR Croatia-Bosnia…          344           346  1994    10   1994. 38467
 3 UNPROFOR Croatia-Bosnia…          344           346  1994    12   1994. 38332
 4 UNPROFOR Croatia-Bosnia…          344           346  1995     2   1995. 38289
 5 UNPROFOR Croatia-Bosnia…          344           346  1995     1   1995. 38207
 6 UNPROFOR Croatia-Bosnia…          344           346  1994    11   1994. 38130
 7 UNPROFOR Bosnia-Herzego…          346            NA  1995     3   1995. 37421
 8 UNPROFOR Croatia-Bosnia…          344           346  1994     8   1994. 37442
 9 UNPROFOR Croatia-Bosnia…          344           346  1994     7   1994. 36430
10 UNPROFOR Croatia-Bosnia…          344           346  1994     6   1994. 35128
# ℹ 6,165 more rows
# ℹ 4 more variables: police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;, total &lt;dbl&gt;,
#   total2 &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>total) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,175 × 12
   mission  missioncountry  missionccode missionccode2  year month yearmon troop
   &lt;chr&gt;    &lt;chr&gt;                  &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
 1 UNPROFOR Croatia-Bosnia…          344           346  1994     9   1994. 38614
 2 UNPROFOR Croatia-Bosnia…          344           346  1994    10   1994. 38467
 3 UNPROFOR Croatia-Bosnia…          344           346  1994    12   1994. 38332
 4 UNPROFOR Croatia-Bosnia…          344           346  1995     2   1995. 38289
 5 UNPROFOR Croatia-Bosnia…          344           346  1995     1   1995. 38207
 6 UNPROFOR Croatia-Bosnia…          344           346  1994    11   1994. 38130
 7 UNPROFOR Bosnia-Herzego…          346            NA  1995     3   1995. 37421
 8 UNPROFOR Croatia-Bosnia…          344           346  1994     8   1994. 37442
 9 UNPROFOR Croatia-Bosnia…          344           346  1994     7   1994. 36430
10 UNPROFOR Croatia-Bosnia…          344           346  1994     6   1994. 35128
# ℹ 6,165 more rows
# ℹ 4 more variables: police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;, total &lt;dbl&gt;,
#   total2 &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="distinct-rows" class="level3">
<h3 class="anchored" data-anchor-id="distinct-rows"><code>distinct</code> rows</h3>
<p><code>distinct()</code> finds all the unique rows in a dataset, so in a technical sense, it primarily operates on the rows. Most of the time, however, you’ll want the distinct combination of some variables, so you can also optionally supply column names:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(mission) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 82 × 1
   mission  
   &lt;chr&gt;    
 1 BINUB    
 2 BINUH    
 3 BNUB     
 4 BONUCA   
 5 IPTF     
 6 LBB      
 7 MICAH    
 8 MINUCI   
 9 MINUGUA  
10 MINUJUSTH
# ℹ 72 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(mission, year) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 570 × 2
   mission  year
   &lt;chr&gt;   &lt;dbl&gt;
 1 BINUB    2007
 2 BINUB    2008
 3 BINUB    2009
 4 BINUB    2010
 5 BINUH    2019
 6 BNUB     2011
 7 BNUB     2012
 8 BONUCA   2000
 9 IPTF     1996
10 LBB      1997
# ℹ 560 more rows</code></pre>
</div>
</div>
<p>The idea is similar to <code>count()</code> function you saw before, but <code>distinct()</code> does not provide us the infomratino aobut the sizes of groups.</p>
</section>
<section id="select-variables" class="level3">
<h3 class="anchored" data-anchor-id="select-variables"><code>select</code> variables</h3>
<p>This is used for subsetting variables (columns, not rows), deleting columns, and re-arranging columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(mission, total) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,175 × 2
   mission total
   &lt;chr&gt;   &lt;dbl&gt;
 1 BINUB      11
 2 BINUB      11
 3 BINUB      14
 4 BINUB      15
 5 BINUB      15
 6 BINUB      15
 7 BINUB      15
 8 BINUB      18
 9 BINUB      18
10 BINUB      20
# ℹ 6,165 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>mission, <span class="sc">-</span>total) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,175 × 10
   missioncountry missionccode missionccode2  year month yearmon troop police
   &lt;chr&gt;                 &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1 Burundi                 516            NA  2007     1   2007.     0     11
 2 Burundi                 516            NA  2007     2   2007.     0     11
 3 Burundi                 516            NA  2007     3   2007.     0     11
 4 Burundi                 516            NA  2007     4   2007.     0     11
 5 Burundi                 516            NA  2007     5   2007.     0     11
 6 Burundi                 516            NA  2007     6   2007.     0     11
 7 Burundi                 516            NA  2007     7   2007.     0     11
 8 Burundi                 516            NA  2007     8   2007.     0     12
 9 Burundi                 516            NA  2007     9   2007.     0     12
10 Burundi                 516            NA  2007    10   2007.     0     12
# ℹ 6,165 more rows
# ℹ 2 more variables: militaryobservers &lt;dbl&gt;, total2 &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># change the order of columns in dataset </span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(mission, total) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,175 × 12
   mission total missioncountry missionccode missionccode2  year month yearmon
   &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;
 1 BINUB      11 Burundi                 516            NA  2007     1   2007.
 2 BINUB      11 Burundi                 516            NA  2007     2   2007.
 3 BINUB      14 Burundi                 516            NA  2007     3   2007.
 4 BINUB      15 Burundi                 516            NA  2007     4   2007.
 5 BINUB      15 Burundi                 516            NA  2007     5   2007.
 6 BINUB      15 Burundi                 516            NA  2007     6   2007.
 7 BINUB      15 Burundi                 516            NA  2007     7   2007.
 8 BINUB      18 Burundi                 516            NA  2007     8   2007.
 9 BINUB      18 Burundi                 516            NA  2007     9   2007.
10 BINUB      20 Burundi                 516            NA  2007    10   2007.
# ℹ 6,165 more rows
# ℹ 4 more variables: troop &lt;dbl&gt;, police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;,
#   total2 &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># change the order of columns in dataset </span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(mission, total, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,175 × 12
   mission total missioncountry missionccode missionccode2  year month yearmon
   &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;
 1 BINUB      11 Burundi                 516            NA  2007     1   2007.
 2 BINUB      11 Burundi                 516            NA  2007     2   2007.
 3 BINUB      14 Burundi                 516            NA  2007     3   2007.
 4 BINUB      15 Burundi                 516            NA  2007     4   2007.
 5 BINUB      15 Burundi                 516            NA  2007     5   2007.
 6 BINUB      15 Burundi                 516            NA  2007     6   2007.
 7 BINUB      15 Burundi                 516            NA  2007     7   2007.
 8 BINUB      18 Burundi                 516            NA  2007     8   2007.
 9 BINUB      18 Burundi                 516            NA  2007     9   2007.
10 BINUB      20 Burundi                 516            NA  2007    10   2007.
# ℹ 6,165 more rows
# ℹ 4 more variables: troop &lt;dbl&gt;, police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;,
#   total2 &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># only select variables starting with "y"</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"mission"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,175 × 4
   mission missioncountry missionccode missionccode2
   &lt;chr&gt;   &lt;chr&gt;                 &lt;dbl&gt;         &lt;dbl&gt;
 1 BINUB   Burundi                 516            NA
 2 BINUB   Burundi                 516            NA
 3 BINUB   Burundi                 516            NA
 4 BINUB   Burundi                 516            NA
 5 BINUB   Burundi                 516            NA
 6 BINUB   Burundi                 516            NA
 7 BINUB   Burundi                 516            NA
 8 BINUB   Burundi                 516            NA
 9 BINUB   Burundi                 516            NA
10 BINUB   Burundi                 516            NA
# ℹ 6,165 more rows</code></pre>
</div>
</div>
</section>
<section id="mutate-variables" class="level3">
<h3 class="anchored" data-anchor-id="mutate-variables"><code>mutate</code> variables</h3>
<p><code>mutate()</code> takes existing columns and creates a new column or overwrites the existing one.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="ot">&lt;-</span> unpko <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">armed_forces =</span> troop <span class="sc">+</span> police,</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">yearmon =</span> <span class="fu">paste0</span>(year, <span class="st">"_"</span>, month))</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(armed_forces, missioncountry) <span class="sc">%&gt;%</span> </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">armed_forces =</span> armed_forces <span class="sc">/</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,175 × 2
   armed_forces missioncountry
          &lt;dbl&gt; &lt;chr&gt;         
 1         0.11 Burundi       
 2         0.11 Burundi       
 3         0.11 Burundi       
 4         0.11 Burundi       
 5         0.11 Burundi       
 6         0.11 Burundi       
 7         0.11 Burundi       
 8         0.12 Burundi       
 9         0.12 Burundi       
10         0.12 Burundi       
# ℹ 6,165 more rows</code></pre>
</div>
</div>
<p>Here is how we can remove remove variables with <code>mutate()</code> (although the same can be done with <code>select()</code> command):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(missioncountry, armed_forces) <span class="sc">%&gt;%</span> </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">armed_forces =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,175 × 1
   missioncountry
   &lt;chr&gt;         
 1 Burundi       
 2 Burundi       
 3 Burundi       
 4 Burundi       
 5 Burundi       
 6 Burundi       
 7 Burundi       
 8 Burundi       
 9 Burundi       
10 Burundi       
# ℹ 6,165 more rows</code></pre>
</div>
</div>
<section id="recoding-variable-types" class="level4">
<h4 class="anchored" data-anchor-id="recoding-variable-types">Recoding Variable Types</h4>
<p>As you know from week 1, there are various data types in <code>R</code>, such as numeric, character, logical, factors. For some purposes, we need to recode one type into another. Changing the type also works through the <code>mutate()</code> in the same fashion, with the following syntax:</p>
<ul>
<li><code>var = as.character(var)</code></li>
<li><code>var = as.numeric(var)</code></li>
<li><code>var = as.logical(var)</code></li>
<li><code>var = as.factor(var)</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">armed_forces =</span> <span class="fu">as.character</span>(armed_forces) </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(armed_forces) <span class="sc">%&gt;%</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Length     Class      Mode 
     6175 character character </code></pre>
</div>
</div>
</section>
</section>
<section id="summarize-tibbles" class="level3">
<h3 class="anchored" data-anchor-id="summarize-tibbles"><code>summarize</code> tibbles</h3>
<p>We often need to calculate <em>summary statistics</em>, things like the <em>mean</em> (also called the average) and the <em>median</em> (the middle value). Other examples of summary statistics include the <em>sum</em>, the <em>minimum</em>, the <em>maximum</em>, and the <em>standard deviation</em>.</p>
<p>The function <code>summarize()</code> allows us to calculate these statistics on individual columns from a tibble. Example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_armed_forces =</span> <span class="fu">mean</span>(armed_forces, <span class="at">na.rm =</span> T),</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_armed_forces =</span> <span class="fu">sd</span>(armed_forces, <span class="at">na.rm =</span> T) </span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  mean_armed_forces sd_armed_forces
              &lt;dbl&gt;           &lt;dbl&gt;
1             3454.           5767.</code></pre>
</div>
</div>
<p>We can also let <code>R</code> perform operations within subgroups, rather than on the entire dataset:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(mission) <span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_armed_forces =</span> <span class="fu">median</span>(armed_forces, <span class="at">na.rm =</span> T),</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_armed_forces =</span> <span class="fu">max</span>(armed_forces, <span class="at">na.rm =</span> T) </span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 82 × 3
   mission   median_armed_forces max_armed_forces
   &lt;chr&gt;                   &lt;dbl&gt;            &lt;dbl&gt;
 1 BINUB                    10.5               12
 2 BINUH                    11                 11
 3 BNUB                      0                  1
 4 BONUCA                    3                188
 5 IPTF                   1197               1485
 6 LBB                      23                 23
 7 MICAH                     1                  1
 8 MINUCI                    0                  0
 9 MINUGUA                  10.5               52
10 MINUJUSTH              1190               1280
# ℹ 72 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># how many observations (months) are there per mission </span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> <span class="co"># take dataset</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(mission) <span class="sc">%&gt;%</span> <span class="co"># group by mission</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 82 × 2
   mission   count
   &lt;chr&gt;     &lt;int&gt;
 1 BINUB        48
 2 BINUH         3
 3 BNUB         24
 4 BONUCA        7
 5 IPTF          5
 6 LBB           2
 7 MICAH         2
 8 MINUCI        9
 9 MINUGUA      42
10 MINUJUSTH    24
# ℹ 72 more rows</code></pre>
</div>
</div>
<p>This function can also be useful when we need to aggregate the dataset to another level. <code>unpko</code> dataset is on mission-month level, but let’s say we needed to aggregate it to mission-year instead.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_if</span>(is.numeric, sum, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 10
    year missionccode missionccode2 month   troop  police militaryobservers
   &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;             &lt;dbl&gt;
 1  1990        19212         16800   624  -95904  -95904            -95904
 2  1991        21667         15450   725 -102897 -102897           -102897
 3  1992        56013         19942   925  128059  -58254            -68426
 4  1993        72932         21672  1171  757326   36814             24218
 5  1994        77434         21672  1260  823454   20127             28311
 6  1995        74603         18212  1247  670226   19179             26578
 7  1996        63959         17520  1335  267043   28277             17066
 8  1997        59277         17520  1291  201476   34618             15302
 9  1998        74316         17520  1266  124219   34632             11074
10  1999        81360         17520  1381  117935   36892             11094
# ℹ 20 more rows
# ℹ 3 more variables: total &lt;dbl&gt;, total2 &lt;dbl&gt;, armed_forces &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># what is wrong in this code? how can you fix it?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="handling-missing-data" class="level2">
<h2 class="anchored" data-anchor-id="handling-missing-data">Handling Missing Data</h2>
<ul>
<li>Why do we care about missing data?</li>
</ul>
<p>There are two types of missing data:</p>
<ul>
<li><strong>Explicitly</strong> missing means you can see an <code>NA</code> in your data. <em>An explicit missing value is the presence of an absence.</em></li>
<li><strong>Implicitly</strong> missing means an entire row of data is simply absent from the data. <em>An implicit missing value is the absence of a presence.</em></li>
</ul>
<p>Here we will primarily talk about the first kind, i.e.&nbsp;handling <code>NA</code>s.</p>
<section id="basic-info" class="level3">
<h3 class="anchored" data-anchor-id="basic-info">Basic Info</h3>
<ul>
<li><code>NA</code> in <code>R</code> is a logical value, like <code>TRUE</code> and <code>FALSE</code></li>
<li>Sometimes <code>R</code> may import missing data wrong (e.g.&nbsp;treat <code>NA</code>s as character), so might need to explicitly recode it into <code>NA</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>example_numeric <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">8</span>, <span class="st">"NA"</span>, <span class="dv">9</span>, <span class="st">"missing"</span>, <span class="dv">10</span>, <span class="st">" "</span>, <span class="st">""</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>example_numeric </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "8"       "NA"      "9"       "missing" "10"      " "       ""       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>example_numeric <span class="sc">%&gt;%</span> <span class="fu">as.numeric</span>() <span class="co"># will convert all character into NAs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in example_numeric %&gt;% as.numeric(): NAs introduced by coercion</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  8 NA  9 NA 10 NA NA</code></pre>
</div>
</div>
<ul>
<li>Missing values represent the unknown so they are “contagious”: almost any operation involving an unknown value will also be unknown</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="cn">NA</span> <span class="sc">&gt;</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), </span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
</section>
<section id="inspecting-missing-values" class="level3">
<h3 class="anchored" data-anchor-id="inspecting-missing-values">Inspecting missing values</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check if each individual observation is NA</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(unpko<span class="sc">$</span>troop)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
  [13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
  [25] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
  [37] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
  [49] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
  [61] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
  [73] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
  [85] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
  [97] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [109] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [121] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [133] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [145] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [157] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [169] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [181] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [193] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [205] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [217] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [229] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [241] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [253] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [265] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [277] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [289] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [301] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [313] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [325] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [337] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [349] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [361] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [373] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [385] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [397] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [409] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [421] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [433] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [445] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [457] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [469] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [481] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [493] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [505] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [517] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [529] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [541] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [553] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [565] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [577] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [589] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [601] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [613] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [625] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [637] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [649] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [661] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [673] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [685] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [697] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [709] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [721] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [733] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [745] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [757] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [769] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [781] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [793] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [805] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [817] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [829] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [841] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [853] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [865] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [877] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [889] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [901] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [913] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [925] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [937] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [949] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [961] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [973] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [985] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
 [997] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1009] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1021] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1033] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1045] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1057] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1069] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1081] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1093] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1105] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1117] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1129] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1141] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1153] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1165] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1177] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1189] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1201] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1213] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1225] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1237] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1249] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1261] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1273] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1285] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1297] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1309] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1321] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1333] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1345] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1357] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1369] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1381] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1393] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1405] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1417] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1429] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1441] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1453] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1465] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1477] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1489] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1501] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1513] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1525] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1537] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1549] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1561] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1573] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1585] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1597] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1609] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1621] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1633] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1645] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1657] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1669] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1681] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1693] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1705] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1717] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1729] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1741] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1753] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1765] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1777] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1789] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1801] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1813] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1825] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1837] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1849] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1861] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1873] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1885] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1897] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1909] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1921] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1933] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1945] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1957] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1969] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1981] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[1993] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2005] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2017] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2029] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2041] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2053] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2065] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2077] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2089] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2101] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2113] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2125] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2137] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2149] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2161] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2173] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2185] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2197] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2209] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2221] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2233] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2245] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2257] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2269] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2281] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2293] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2305] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2317] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2329] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2341] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2353] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2365] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2377] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2389] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2401] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2413] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2425] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2437] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2449] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2461] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2473] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2485] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2497] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2509] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2521] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2533] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2545] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2557] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2569] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2581] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2593] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2605] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2617] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2629] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2641] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2653] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2665] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2677] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2689] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2701] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2713] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2725] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2737] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2749] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2761] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2773] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2785] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2797] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2809] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2821] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2833] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2845] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2857] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2869] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2881] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2893] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2905] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2917] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2929] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2941] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2953] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2965] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2977] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[2989] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3001] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3013] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3025] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3037] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3049] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3061] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3073] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3085] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3097] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3109] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3121] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3133] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3145] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3157] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3169] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3181] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3193] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3205] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3217] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3229] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3241] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3253] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3265] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3277] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3289] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3301] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3313] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3325] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3337] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3349] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3361] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3373] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3385] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3397] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3409] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3421] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3433] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3445] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3457] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3469] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3481] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3493] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3505] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3517] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3529] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3541] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3553] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3565] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3577] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3589] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3601] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3613] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3625] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3637] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3649] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3661] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3673] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3685] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3697] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3709] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3721] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3733] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3745] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3757] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3769] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3781] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3793] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3805] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3817] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3829] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3841] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3853] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3865] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3877] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3889] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3901] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3913] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3925] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3937] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3949] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3961] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3973] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3985] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[3997] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4009] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4021] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4033] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4045] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4057] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4069] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4081] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4093] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4105] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4117] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4129] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4141] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4153] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4165] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4177] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4189] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4201] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4213] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4225] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4237] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4249] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4261] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4273] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4285] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4297] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4309] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4321] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4333] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4345] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4357] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4369] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4381] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4393] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4405] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4417] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4429] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4441] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4453] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4465] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4477] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4489] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4501] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4513] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4525] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4537] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4549] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4561] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4573] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4585] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4597] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4609] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4621] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4633] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4645] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4657] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4669] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4681] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4693] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4705] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4717] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4729] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4741] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4753] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4765] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4777] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4789] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4801] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4813] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4825] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4837] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4849] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4861] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4873] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4885] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4897] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4909] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4921] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4933] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4945] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4957] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4969] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4981] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[4993] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5005] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5017] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5029] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5041] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5053] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5065] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5077] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5089] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5101] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5113] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5125] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5137] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5149] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5161] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5173] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5185] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5197] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5209] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5221] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5233] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5245] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5257] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5269] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5281] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5293] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5305] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5317] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5329] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5341] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5353] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5365] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5377] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5389] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5401] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5413] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5425] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5437] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5449] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5461] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5473] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5485] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5497] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5509] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5521] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5533] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5545] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5557] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5569] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5581] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5593] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5605] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5617] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5629] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5641] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5653] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5665] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5677] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5689] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5701] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5713] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5725] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5737] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5749] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5761] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5773] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5785] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5797] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5809] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5821] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5833] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5845] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5857] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5869] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5881] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5893] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5905] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5917] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5929] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5941] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5953] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5965] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5977] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[5989] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6001] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6013] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6025] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6037] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6049] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6061] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6073] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6085] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6097] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6109] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6121] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6133] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6145] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6157] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
[6169] FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># count all NAs in the variable </span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="co"># sum treats TRUE as 1 and FALSE as 0</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(unpko<span class="sc">$</span>troop) <span class="sc">%&gt;%</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sum(is.na(pei$PEIIndexp)) # same as above</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the share of NAs in the variable </span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(unpko<span class="sc">$</span>troop)) <span class="sc">/</span> </span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>(unpko<span class="sc">$</span>troop)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># summary (contains NA info)</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(unpko<span class="sc">$</span>troop)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   -999       0     240    3077    4464   38614 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># summary for multiple columns (contains NA info)</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(troop<span class="sc">:</span>militaryobservers, armed_forces) <span class="sc">%&gt;%</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     troop           police       militaryobservers  armed_forces  
 Min.   : -999   Min.   :-999.0   Min.   :-999.00   Min.   :-1998  
 1st Qu.:    0   1st Qu.:   0.0   1st Qu.:   0.00   1st Qu.:    3  
 Median :  240   Median :   6.0   Median :  38.00   Median :  898  
 Mean   : 3077   Mean   : 377.6   Mean   :  48.52   Mean   : 3454  
 3rd Qu.: 4464   3rd Qu.: 291.5   3rd Qu.: 162.00   3rd Qu.: 4714  
 Max.   :38614   Max.   :5511.0   Max.   :1039.00   Max.   :39285  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># visual inspection </span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select(troop:militaryobservers, armed_forces) %&gt;%</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>  visdat<span class="sc">::</span><span class="fu">vis_miss</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="r4da-week04_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="what-not-to-do-remove-na-as-a-first-step" class="level3">
<h3 class="anchored" data-anchor-id="what-not-to-do-remove-na-as-a-first-step">What <em>not</em> to do: Remove <code>NA</code> as a first step</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">na.omit</span>(unpko)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 704 × 13
   mission  missioncountry  missionccode missionccode2  year month yearmon troop
   &lt;chr&gt;    &lt;chr&gt;                  &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;
 1 MINURCAT Central Africa…          482           483  2007     8 2007_8      0
 2 MINURCAT Central Africa…          482           483  2007     9 2007_9      0
 3 MINURCAT Central Africa…          482           483  2007    10 2007_10     0
 4 MINURCAT Central Africa…          482           483  2007    11 2007_11     0
 5 MINURCAT Central Africa…          482           483  2007    12 2007_12     0
 6 MINURCAT Central Africa…          482           483  2008     1 2008_1      0
 7 MINURCAT Central Africa…          482           483  2008     2 2008_2      0
 8 MINURCAT Central Africa…          482           483  2008     3 2008_3      0
 9 MINURCAT Central Africa…          482           483  2008     4 2008_4      0
10 MINURCAT Central Africa…          482           483  2008     5 2008_5      0
# ℹ 694 more rows
# ℹ 5 more variables: police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;, total &lt;dbl&gt;,
#   total2 &lt;dbl&gt;, armed_forces &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="better-select-the-variables-you-work-with-and-clean-the-dataset-after" class="level3">
<h3 class="anchored" data-anchor-id="better-select-the-variables-you-work-with-and-clean-the-dataset-after">Better: Select the variables you work with and clean the dataset after</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(mission, militaryobservers) <span class="sc">%&gt;%</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="co"># base R version </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,175 × 2
   mission militaryobservers
   &lt;chr&gt;               &lt;dbl&gt;
 1 BINUB                   0
 2 BINUB                   0
 3 BINUB                   3
 4 BINUB                   4
 5 BINUB                   4
 6 BINUB                   4
 7 BINUB                   4
 8 BINUB                   6
 9 BINUB                   6
10 BINUB                   8
# ℹ 6,165 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(mission, militaryobservers) <span class="sc">%&gt;%</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="co"># tidyr version </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6,175 × 2
   mission militaryobservers
   &lt;chr&gt;               &lt;dbl&gt;
 1 BINUB                   0
 2 BINUB                   0
 3 BINUB                   3
 4 BINUB                   4
 5 BINUB                   4
 6 BINUB                   4
 7 BINUB                   4
 8 BINUB                   6
 9 BINUB                   6
10 BINUB                   8
# ℹ 6,165 more rows</code></pre>
</div>
</div>
</section>
</section>
<section id="adding-countryregion-identifiers" class="level2">
<h2 class="anchored" data-anchor-id="adding-countryregion-identifiers">Adding Country/Region Identifiers</h2>
<p>Often working with one dataset is not sufficient and we need to combine multiple datasets to work with variables together. Since our goal is to know if UN PKO personnel numbers impact conflict mortality, we would need data for mortality. For that, we will need to merge the <code>unpko</code> dataset, and this will require us to have a variable that is common across the two datasets. <code>countrycode</code> will help us with that. Let’s see how it works by adding the region variable first:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="ot">&lt;-</span> unpko <span class="sc">%&gt;%</span> <span class="co"># overwrite our dataset</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">region =</span> <span class="fu">countrycode</span>(missioncountry, <span class="st">"country.name"</span>, <span class="st">"continent"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: There were 2 warnings in `mutate()`.
The first warning was:
ℹ In argument: `region = countrycode(missioncountry, "country.name",
  "continent")`.
Caused by warning in `countrycode_convert()`:
! Some values were not matched unambiguously: Central African Republic-Chad, Croatia-Bosnia-Herzegovina, Ethiopia-Eritrea, India-Pakistan, Iran-Iraq, Iraq-Kuwait, Kosovo, Kosovo/Yugoslavia, Unknown, Various
ℹ Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.</code></pre>
</div>
</div>
<p>We get the warning:</p>
<blockquote class="blockquote">
<p>Some values were not matched unambiguously: Central African Republic-Chad, Croatia-Bosnia-Herzegovina, Ethiopia-Eritrea, India-Pakistan, Iran-Iraq, Iraq-Kuwait, Kosovo, Kosovo/Yugoslavia, Unknown, Various</p>
</blockquote>
<p>We need to code these observations manually. To do this, we first check which cases are affected (” , ” indicates that we have observations with missing observations for a country).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(mission, missioncountry, region, year) <span class="sc">%&gt;%</span> </span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(region)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,393 × 14
   mission  missioncountry region  year missionccode missionccode2 month yearmon
   &lt;chr&gt;    &lt;chr&gt;          &lt;chr&gt;  &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  
 1 LBB      Unknown        &lt;NA&gt;    1997         -999            NA     4 1997_4 
 2 LBB      Unknown        &lt;NA&gt;    1997         -999            NA     5 1997_5 
 3 MINURCAT Central Afric… &lt;NA&gt;    2007          482           483     8 2007_8 
 4 MINURCAT Central Afric… &lt;NA&gt;    2007          482           483     9 2007_9 
 5 MINURCAT Central Afric… &lt;NA&gt;    2007          482           483    10 2007_10
 6 MINURCAT Central Afric… &lt;NA&gt;    2007          482           483    11 2007_11
 7 MINURCAT Central Afric… &lt;NA&gt;    2007          482           483    12 2007_12
 8 MINURCAT Central Afric… &lt;NA&gt;    2008          482           483     1 2008_1 
 9 MINURCAT Central Afric… &lt;NA&gt;    2008          482           483     2 2008_2 
10 MINURCAT Central Afric… &lt;NA&gt;    2008          482           483     3 2008_3 
# ℹ 1,383 more rows
# ℹ 6 more variables: troop &lt;dbl&gt;, police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;,
#   total &lt;dbl&gt;, total2 &lt;dbl&gt;, armed_forces &lt;dbl&gt;</code></pre>
</div>
</div>
<p>As we can see, we do have observations with missing values in the <code>missioncountry</code> variable. We will first code the <code>region</code> variable for Kosovo and Yugoslavia manually. We use the <code>if_else()</code> function. The logic is as follows: <code>if_else(test, yes, no)</code>. Or, in plain words: If an object fulfills a certain value/logical mode (<code>test</code>), then do whatever is in <code>yes</code>. If not, do whatever is in <code>no</code>. We will see this with the following example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="ot">&lt;-</span> unpko <span class="sc">%&gt;%</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">region =</span> <span class="fu">if_else</span>(missioncountry <span class="sc">==</span> <span class="st">"Kosovo"</span>, <span class="st">"Europe"</span>, region),</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">region =</span> <span class="fu">if_else</span>(missioncountry <span class="sc">==</span> <span class="st">"Yugoslavia"</span>, <span class="st">"Europe"</span>, region)</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Can you write this code with <code>case_when</code> command?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="ot">&lt;-</span> unpko <span class="sc">%&gt;%</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If we check now again, we see that we have only regions without a region code left that have no observation in <code>missioncountry</code>. 343 missions had no mission country assigned at all:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(mission, missioncountry, region, year, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span> <span class="co"># Sort data</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">is.na</span>(region)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,250 × 14
   mission  missioncountry region  year missionccode missionccode2 month yearmon
   &lt;chr&gt;    &lt;chr&gt;          &lt;chr&gt;  &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  
 1 LBB      Unknown        &lt;NA&gt;    1997         -999            NA     4 1997_4 
 2 LBB      Unknown        &lt;NA&gt;    1997         -999            NA     5 1997_5 
 3 MINURCAT Central Afric… &lt;NA&gt;    2007          482           483     8 2007_8 
 4 MINURCAT Central Afric… &lt;NA&gt;    2007          482           483     9 2007_9 
 5 MINURCAT Central Afric… &lt;NA&gt;    2007          482           483    10 2007_10
 6 MINURCAT Central Afric… &lt;NA&gt;    2007          482           483    11 2007_11
 7 MINURCAT Central Afric… &lt;NA&gt;    2007          482           483    12 2007_12
 8 MINURCAT Central Afric… &lt;NA&gt;    2008          482           483     1 2008_1 
 9 MINURCAT Central Afric… &lt;NA&gt;    2008          482           483     2 2008_2 
10 MINURCAT Central Afric… &lt;NA&gt;    2008          482           483     3 2008_3 
# ℹ 1,240 more rows
# ℹ 6 more variables: troop &lt;dbl&gt;, police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;,
#   total &lt;dbl&gt;, total2 &lt;dbl&gt;, armed_forces &lt;dbl&gt;</code></pre>
</div>
</div>
<p>We will use the mission names (<code>mission</code>) to identify the mission countries. To do this, we will first need to look up the distinct missions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">is.na</span>(region)) <span class="sc">%&gt;%</span> <span class="co"># regions where there are missing values</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">distinct</span>(mission) <span class="co"># select only unique missions</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 13 × 1
   mission 
   &lt;chr&gt;   
 1 LBB     
 2 MINURCAT
 3 ONUCA   
 4 UNIIMOG 
 5 UNIKOM  
 6 UNMEE   
 7 UNMHA   
 8 UNMIK   
 9 UNMOGIP 
10 UNOWAS  
11 UNPF    
12 UNPROFOR
13 UNTSO   </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="ot">&lt;-</span> unpko <span class="sc">%&gt;%</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(region) <span class="co"># Drop all regions with NAs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If we want to check if there are still missing values in the <code>region</code> variable, we use the following code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(region)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 14
# ℹ 14 variables: mission &lt;chr&gt;, missioncountry &lt;chr&gt;, missionccode &lt;dbl&gt;,
#   missionccode2 &lt;dbl&gt;, year &lt;dbl&gt;, month &lt;dbl&gt;, yearmon &lt;chr&gt;, troop &lt;dbl&gt;,
#   police &lt;dbl&gt;, militaryobservers &lt;dbl&gt;, total &lt;dbl&gt;, total2 &lt;dbl&gt;,
#   armed_forces &lt;dbl&gt;, region &lt;chr&gt;</code></pre>
</div>
</div>
<p>Or we could also count if there are still missing values:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(region))) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  count
  &lt;int&gt;
1     0</code></pre>
</div>
</div>
<p>We will now restrict our dataset to the African continent and store it in the <code>data</code> folder.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>unpko_africa <span class="ot">&lt;-</span> unpko <span class="sc">%&gt;%</span> </span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(region <span class="sc">==</span> <span class="st">"Africa"</span>)</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(unpko_africa, <span class="st">"data/unpko_africa.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="practice-exercise" class="level2">
<h2 class="anchored" data-anchor-id="practice-exercise">Practice Exercise</h2>
<p>Using the commands required for data wrangling and visualization, try to replicate the following figure:</p>
<p><img src="https://journals.sagepub.com/cms/10.1177/0738894213491180/asset/images/large/10.1177_0738894213491180-fig3.jpeg" class="img-fluid"></p>
<div class="cell">

</div>
</section>
<section id="next-time" class="level2">
<h2 class="anchored" data-anchor-id="next-time">Next Time</h2>
<ul>
<li>Merging Datasets</li>
<li>Creating Panel-like Structure</li>
<li>Generating Post-Conflict Data</li>
</ul>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">Resources</h2>
<ul>
<li>Chapter 4 <strong>Data transformation</strong> in <a href="https://r4ds.hadley.nz/data-transform" class="uri">https://r4ds.hadley.nz/data-transform</a></li>
<li>Section 2.5 <strong>Visualizing relationships</strong> in <a href="https://r4ds.hadley.nz/data-visualize#visualizing-relationships" class="uri">https://r4ds.hadley.nz/data-visualize#visualizing-relationships</a></li>
<li>Chapter 10 <strong>Missing values</strong> in <a href="https://r4ds.hadley.nz/missing-values" class="uri">https://r4ds.hadley.nz/missing-values</a></li>
</ul>
<!-- -->

</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb94" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Lab 4: Data Wrangling with `dplyr` and `tidyr`"</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Viktoriia Semenova"</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "September 27, 2023"</span></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html: </span></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a><span class="co">    theme: slides.scss </span></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: false</span></span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-summary: "Show the code"</span></span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a><span class="co">    code-overflow: wrap</span></span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a><span class="co">  pdf:</span></span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a><span class="co">    colorlinks: true</span></span>
<span id="cb94-16"><a href="#cb94-16" aria-hidden="true" tabindex="-1"></a><span class="co">    geometry: </span></span>
<span id="cb94-17"><a href="#cb94-17" aria-hidden="true" tabindex="-1"></a><span class="co">      - top=30mm</span></span>
<span id="cb94-18"><a href="#cb94-18" aria-hidden="true" tabindex="-1"></a><span class="co">      - left=30mm</span></span>
<span id="cb94-19"><a href="#cb94-19" aria-hidden="true" tabindex="-1"></a><span class="an">highlight-style:</span><span class="co"> github</span></span>
<span id="cb94-20"><a href="#cb94-20" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb94-21"><a href="#cb94-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-22"><a href="#cb94-22" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup}</span></span>
<span id="cb94-23"><a href="#cb94-23" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb94-24"><a href="#cb94-24" aria-hidden="true" tabindex="-1"></a><span class="co"># packages needed</span></span>
<span id="cb94-25"><a href="#cb94-25" aria-hidden="true" tabindex="-1"></a><span class="co"># put all packages we use in a vector</span></span>
<span id="cb94-26"><a href="#cb94-26" aria-hidden="true" tabindex="-1"></a>p_needed <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb94-27"><a href="#cb94-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">"tidyverse"</span>, <span class="co"># shortcut for ggplot2, dplyr, readr</span></span>
<span id="cb94-28"><a href="#cb94-28" aria-hidden="true" tabindex="-1"></a>  <span class="st">"readxl"</span>, <span class="co"># for reading xlsx files </span></span>
<span id="cb94-29"><a href="#cb94-29" aria-hidden="true" tabindex="-1"></a>  <span class="st">"countrycode"</span>, <span class="co"># for automatic country code variables</span></span>
<span id="cb94-30"><a href="#cb94-30" aria-hidden="true" tabindex="-1"></a>  <span class="st">"janitor"</span>, <span class="co"># clean_names for datasets </span></span>
<span id="cb94-31"><a href="#cb94-31" aria-hidden="true" tabindex="-1"></a>  <span class="st">"visdat"</span>, <span class="co"># visual inspection of datasets </span></span>
<span id="cb94-32"><a href="#cb94-32" aria-hidden="true" tabindex="-1"></a>  <span class="st">"styler"</span> <span class="co"># to style the code</span></span>
<span id="cb94-33"><a href="#cb94-33" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb94-34"><a href="#cb94-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-35"><a href="#cb94-35" aria-hidden="true" tabindex="-1"></a><span class="co"># check if they are already installed, install if not installed</span></span>
<span id="cb94-36"><a href="#cb94-36" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(</span>
<span id="cb94-37"><a href="#cb94-37" aria-hidden="true" tabindex="-1"></a>  p_needed[<span class="sc">!</span>(p_needed <span class="sc">%in%</span> <span class="fu">rownames</span>(<span class="fu">installed.packages</span>()))],</span>
<span id="cb94-38"><a href="#cb94-38" aria-hidden="true" tabindex="-1"></a>  install.packages</span>
<span id="cb94-39"><a href="#cb94-39" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb94-40"><a href="#cb94-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-41"><a href="#cb94-41" aria-hidden="true" tabindex="-1"></a><span class="co"># load the packages</span></span>
<span id="cb94-42"><a href="#cb94-42" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(p_needed, library, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb94-43"><a href="#cb94-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-44"><a href="#cb94-44" aria-hidden="true" tabindex="-1"></a><span class="co"># same theme for all plots</span></span>
<span id="cb94-45"><a href="#cb94-45" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">theme_set</span>(ggplot2<span class="sc">::</span><span class="fu">theme_minimal</span>())</span>
<span id="cb94-46"><a href="#cb94-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-47"><a href="#cb94-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-48"><a href="#cb94-48" aria-hidden="true" tabindex="-1"></a><span class="co"># load data for today </span></span>
<span id="cb94-49"><a href="#cb94-49" aria-hidden="true" tabindex="-1"></a><span class="co"># ucdp &lt;- read_rds("data/GEDEvent_v23_1.rds")</span></span>
<span id="cb94-50"><a href="#cb94-50" aria-hidden="true" tabindex="-1"></a><span class="co"># unpko &lt;- read_dta("data/CMPS Mission Totals 1990-2011.dta")</span></span>
<span id="cb94-51"><a href="#cb94-51" aria-hidden="true" tabindex="-1"></a>unpko <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/mission-month_12-2019.xlsx"</span>) <span class="co"># check the importing</span></span>
<span id="cb94-52"><a href="#cb94-52" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-53"><a href="#cb94-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-54"><a href="#cb94-54" aria-hidden="true" tabindex="-1"></a>\newpage</span>
<span id="cb94-55"><a href="#cb94-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-56"><a href="#cb94-56" aria-hidden="true" tabindex="-1"></a><span class="fu">## Replication Text: *Beyond Keeping Peace: United Nations Effectiveness in the Midst of Fighting*</span></span>
<span id="cb94-57"><a href="#cb94-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-58"><a href="#cb94-58" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; While United Nations peacekeeping missions were created to keep peace and perform post-conflict activities, since the end of the Cold War peacekeepers are more often deployed to active conflicts. Yet, we know little about their ability to manage ongoing violence. This article provides the first broad empirical examination of UN peacekeeping effectiveness in reducing battlefield violence in civil wars. We analyze how the number of UN peacekeeping personnel deployed influences the amount of battlefield deaths in all civil wars in Africa from 1992 to 2011. The analyses show that increasing numbers of armed military troops are associated with reduced battlefield deaths, while police and observers are not. Considering that the UN is often criticized for ineffectiveness, these results have important implications: if appropriately composed, UN peacekeeping missions reduce violent conflict.</span></span>
<span id="cb94-59"><a href="#cb94-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-60"><a href="#cb94-60" aria-hidden="true" tabindex="-1"></a>In the upcoming labs, we will refer to this article by Lisa Hultman, Jacob Kathman, and Megan Shannon, published in 2014 in the *American Political Science Review*. It is a good example of a well-structured empirical article (which you could use as a reference when writing your own papers), and replicating it would involve various common tasks in data analysis. </span>
<span id="cb94-61"><a href="#cb94-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-62"><a href="#cb94-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-63"><a href="#cb94-63" aria-hidden="true" tabindex="-1"></a><span class="fu">## Exploring the Dataset:  UN peacekeeping personnel (from 1990-2011) by [Jakob Kathman](http://jacobkathman.weebly.com/research.html)</span></span>
<span id="cb94-64"><a href="#cb94-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-65"><a href="#cb94-65" aria-hidden="true" tabindex="-1"></a>The dataset can be downloaded from this page: <span class="ot">&lt;https://kathmanundata.weebly.com/mission-personnel-dataset.html&gt;</span></span>
<span id="cb94-66"><a href="#cb94-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-69"><a href="#cb94-69" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-70"><a href="#cb94-70" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(unpko)</span>
<span id="cb94-71"><a href="#cb94-71" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-72"><a href="#cb94-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-73"><a href="#cb94-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-74"><a href="#cb94-74" aria-hidden="true" tabindex="-1"></a><span class="fu">## Basic Data Wrangling Functions</span></span>
<span id="cb94-75"><a href="#cb94-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-76"><a href="#cb94-76" aria-hidden="true" tabindex="-1"></a>We can't use all the beautiful plots until we have "wrangled" the data into a convenient shape and have all the variables we need for plotting. You have seen some of these functions already, but let's now look at them a bit more systematically. Key wrangling functions include:</span>
<span id="cb94-77"><a href="#cb94-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-78"><a href="#cb94-78" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`filter()`</span>: to pick out the *rows* we want to keep from a tibble.</span>
<span id="cb94-79"><a href="#cb94-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-80"><a href="#cb94-80" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`select()`</span>: to pick out the *columns* we want to keep from a tibble.</span>
<span id="cb94-81"><a href="#cb94-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-82"><a href="#cb94-82" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`arrange()`</span>: to sort the rows in a tibble, in either ascending or descending order.</span>
<span id="cb94-83"><a href="#cb94-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-84"><a href="#cb94-84" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`mutate()`</span>: to create new columns.</span>
<span id="cb94-85"><a href="#cb94-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-86"><a href="#cb94-86" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`summarize()`</span>: to create a new tibble comprised of summary statistics for one (or more) rows, depending on the use of the <span class="in">`.by`</span> argument.</span>
<span id="cb94-87"><a href="#cb94-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-88"><a href="#cb94-88" aria-hidden="true" tabindex="-1"></a><span class="fu">### The pipe operator: `%&gt;%` (again)</span></span>
<span id="cb94-89"><a href="#cb94-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-90"><a href="#cb94-90" aria-hidden="true" tabindex="-1"></a>The pipe operator (<span class="in">`%&gt;%`</span>) allows us to combine multiple operations in <span class="in">`R`</span> into a single sequential *chain* of actions. Much like how the <span class="in">`+`</span> sign has to come at the end of the line when constructing plots --- because we are building the plot layer-by-layer --- the pipe operator <span class="in">`%&gt;%`</span> has to come at the end of the line because we are building a data wrangling pipeline step-by-step. If you do not include the pipe operator, R assumes the next line of code is unrelated to the layers you built and you will get an error.</span>
<span id="cb94-91"><a href="#cb94-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-92"><a href="#cb94-92" aria-hidden="true" tabindex="-1"></a><span class="fu">### `filter` rows</span></span>
<span id="cb94-93"><a href="#cb94-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-94"><a href="#cb94-94" aria-hidden="true" tabindex="-1"></a>The <span class="in">`filter()`</span> function works much like the "Filter" option in Microsoft Excel. It allows you to specify criteria about the values of a variable in your dataset and then selects only the rows that match that criteria.</span>
<span id="cb94-95"><a href="#cb94-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-98"><a href="#cb94-98" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-99"><a href="#cb94-99" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-100"><a href="#cb94-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(missioncountry <span class="sc">==</span> <span class="st">"Rwanda"</span>)</span>
<span id="cb94-101"><a href="#cb94-101" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-102"><a href="#cb94-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-103"><a href="#cb94-103" aria-hidden="true" tabindex="-1"></a>Here are a few more operators that we can use here:</span>
<span id="cb94-104"><a href="#cb94-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-105"><a href="#cb94-105" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`&gt;`</span> for "greater than"</span>
<span id="cb94-106"><a href="#cb94-106" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`&lt;`</span> for "less than"</span>
<span id="cb94-107"><a href="#cb94-107" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`&gt;=`</span> for "greater than or equal to"</span>
<span id="cb94-108"><a href="#cb94-108" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`&lt;=`</span> for "less than or equal to"</span>
<span id="cb94-109"><a href="#cb94-109" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`!=`</span> for "not equal to"</span>
<span id="cb94-110"><a href="#cb94-110" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`%in%`</span> for "inside"</span>
<span id="cb94-111"><a href="#cb94-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-114"><a href="#cb94-114" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-115"><a href="#cb94-115" aria-hidden="true" tabindex="-1"></a><span class="co"># everything but Rwanda (show, not store in the environment)</span></span>
<span id="cb94-116"><a href="#cb94-116" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-117"><a href="#cb94-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(missioncountry <span class="sc">!=</span> <span class="st">"Rwanda"</span>)</span>
<span id="cb94-118"><a href="#cb94-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-119"><a href="#cb94-119" aria-hidden="true" tabindex="-1"></a><span class="co"># every row where troop index is ABOVE 10</span></span>
<span id="cb94-120"><a href="#cb94-120" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-121"><a href="#cb94-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(troop <span class="sc">&gt;</span> <span class="dv">10</span>)</span>
<span id="cb94-122"><a href="#cb94-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-123"><a href="#cb94-123" aria-hidden="true" tabindex="-1"></a><span class="co"># every row where deaths_civilians index is  EQUAL TO or ABOVE 10</span></span>
<span id="cb94-124"><a href="#cb94-124" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-125"><a href="#cb94-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(troop <span class="sc">&gt;=</span> <span class="dv">10</span>)</span>
<span id="cb94-126"><a href="#cb94-126" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-127"><a href="#cb94-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-128"><a href="#cb94-128" aria-hidden="true" tabindex="-1"></a>Furthermore, you can combine multiple criteria using operators that make comparisons:</span>
<span id="cb94-129"><a href="#cb94-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-130"><a href="#cb94-130" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`|`</span> for "or"</span>
<span id="cb94-131"><a href="#cb94-131" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`&amp;`</span> for "and" (or just <span class="in">`,`</span>)</span>
<span id="cb94-132"><a href="#cb94-132" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`!`</span> for "not"</span>
<span id="cb94-133"><a href="#cb94-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-136"><a href="#cb94-136" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-137"><a href="#cb94-137" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-138"><a href="#cb94-138" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb94-139"><a href="#cb94-139" aria-hidden="true" tabindex="-1"></a>    year <span class="sc">&gt;</span> <span class="dv">2005</span>,</span>
<span id="cb94-140"><a href="#cb94-140" aria-hidden="true" tabindex="-1"></a>    missioncountry <span class="sc">==</span> <span class="st">"Kosovo"</span></span>
<span id="cb94-141"><a href="#cb94-141" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb94-142"><a href="#cb94-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-143"><a href="#cb94-143" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-144"><a href="#cb94-144" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb94-145"><a href="#cb94-145" aria-hidden="true" tabindex="-1"></a>    year <span class="sc">&gt;</span> <span class="dv">2000</span>,</span>
<span id="cb94-146"><a href="#cb94-146" aria-hidden="true" tabindex="-1"></a>    missioncountry <span class="sc">==</span> <span class="st">"Kosovo"</span> <span class="sc">|</span> missioncountry <span class="sc">==</span> <span class="st">"Burundi"</span>,</span>
<span id="cb94-147"><a href="#cb94-147" aria-hidden="true" tabindex="-1"></a>    total <span class="sc">&gt;</span>  <span class="fu">mean</span>(total, <span class="at">na.rm =</span> T)</span>
<span id="cb94-148"><a href="#cb94-148" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb94-149"><a href="#cb94-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-150"><a href="#cb94-150" aria-hidden="true" tabindex="-1"></a><span class="co"># same result but %in% instead or OR (|) for regions  </span></span>
<span id="cb94-151"><a href="#cb94-151" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-152"><a href="#cb94-152" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb94-153"><a href="#cb94-153" aria-hidden="true" tabindex="-1"></a>    year <span class="sc">&gt;</span> <span class="dv">2000</span>,</span>
<span id="cb94-154"><a href="#cb94-154" aria-hidden="true" tabindex="-1"></a>    missioncountry <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Kosovo"</span>, <span class="st">"Burundi"</span>),</span>
<span id="cb94-155"><a href="#cb94-155" aria-hidden="true" tabindex="-1"></a>    total <span class="sc">&gt;</span>  <span class="fu">mean</span>(total, <span class="at">na.rm =</span> T)</span>
<span id="cb94-156"><a href="#cb94-156" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb94-157"><a href="#cb94-157" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-158"><a href="#cb94-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-159"><a href="#cb94-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-160"><a href="#cb94-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-161"><a href="#cb94-161" aria-hidden="true" tabindex="-1"></a><span class="fu">### `arrange` rows </span></span>
<span id="cb94-162"><a href="#cb94-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-163"><a href="#cb94-163" aria-hidden="true" tabindex="-1"></a><span class="in">`arrange()`</span> allows us to sort/reorder a tibble's (dataframe) rows according to the values of a specific variable. Unlike <span class="in">`filter()`</span> or <span class="in">`select()`</span>, <span class="in">`arrange()`</span> does not remove any rows or columns from the tibble. Example:</span>
<span id="cb94-164"><a href="#cb94-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-167"><a href="#cb94-167" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-168"><a href="#cb94-168" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-169"><a href="#cb94-169" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(total) </span>
<span id="cb94-170"><a href="#cb94-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-171"><a href="#cb94-171" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-172"><a href="#cb94-172" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total)) </span>
<span id="cb94-173"><a href="#cb94-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-174"><a href="#cb94-174" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-175"><a href="#cb94-175" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>total) </span>
<span id="cb94-176"><a href="#cb94-176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-177"><a href="#cb94-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-178"><a href="#cb94-178" aria-hidden="true" tabindex="-1"></a><span class="fu">### `distinct` rows </span></span>
<span id="cb94-179"><a href="#cb94-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-180"><a href="#cb94-180" aria-hidden="true" tabindex="-1"></a><span class="in">`distinct()`</span> finds all the unique rows in a dataset, so in a technical sense, it primarily operates on the rows. Most of the time, however, you'll want the distinct combination of some variables, so you can also optionally supply column names:</span>
<span id="cb94-181"><a href="#cb94-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-184"><a href="#cb94-184" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-185"><a href="#cb94-185" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-186"><a href="#cb94-186" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(mission) </span>
<span id="cb94-187"><a href="#cb94-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-188"><a href="#cb94-188" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-189"><a href="#cb94-189" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(mission, year) </span>
<span id="cb94-190"><a href="#cb94-190" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-191"><a href="#cb94-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-192"><a href="#cb94-192" aria-hidden="true" tabindex="-1"></a>The idea is similar to <span class="in">`count()`</span> function you saw before, but <span class="in">`distinct()`</span> does not provide us the infomratino aobut the sizes of groups. </span>
<span id="cb94-193"><a href="#cb94-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-194"><a href="#cb94-194" aria-hidden="true" tabindex="-1"></a><span class="fu">### `select` variables</span></span>
<span id="cb94-195"><a href="#cb94-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-196"><a href="#cb94-196" aria-hidden="true" tabindex="-1"></a>This is used for subsetting variables (columns, not rows), deleting columns, and re-arranging columns.</span>
<span id="cb94-197"><a href="#cb94-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-200"><a href="#cb94-200" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-201"><a href="#cb94-201" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-202"><a href="#cb94-202" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(mission, total) </span>
<span id="cb94-203"><a href="#cb94-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-204"><a href="#cb94-204" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-205"><a href="#cb94-205" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>mission, <span class="sc">-</span>total) </span>
<span id="cb94-206"><a href="#cb94-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-207"><a href="#cb94-207" aria-hidden="true" tabindex="-1"></a><span class="co"># change the order of columns in dataset </span></span>
<span id="cb94-208"><a href="#cb94-208" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-209"><a href="#cb94-209" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(mission, total) </span>
<span id="cb94-210"><a href="#cb94-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-211"><a href="#cb94-211" aria-hidden="true" tabindex="-1"></a><span class="co"># change the order of columns in dataset </span></span>
<span id="cb94-212"><a href="#cb94-212" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-213"><a href="#cb94-213" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(mission, total, <span class="fu">everything</span>())</span>
<span id="cb94-214"><a href="#cb94-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-215"><a href="#cb94-215" aria-hidden="true" tabindex="-1"></a><span class="co"># only select variables starting with "y"</span></span>
<span id="cb94-216"><a href="#cb94-216" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-217"><a href="#cb94-217" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"mission"</span>))</span>
<span id="cb94-218"><a href="#cb94-218" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-219"><a href="#cb94-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-220"><a href="#cb94-220" aria-hidden="true" tabindex="-1"></a><span class="fu">### `mutate` variables</span></span>
<span id="cb94-221"><a href="#cb94-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-222"><a href="#cb94-222" aria-hidden="true" tabindex="-1"></a><span class="in">`mutate()`</span> takes existing columns and creates a new column or overwrites the existing one. </span>
<span id="cb94-223"><a href="#cb94-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-226"><a href="#cb94-226" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-227"><a href="#cb94-227" aria-hidden="true" tabindex="-1"></a>unpko <span class="ot">&lt;-</span> unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-228"><a href="#cb94-228" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">armed_forces =</span> troop <span class="sc">+</span> police,</span>
<span id="cb94-229"><a href="#cb94-229" aria-hidden="true" tabindex="-1"></a>                <span class="at">yearmon =</span> <span class="fu">paste0</span>(year, <span class="st">"_"</span>, month))</span>
<span id="cb94-230"><a href="#cb94-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-231"><a href="#cb94-231" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-232"><a href="#cb94-232" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(armed_forces, missioncountry) <span class="sc">%&gt;%</span> </span>
<span id="cb94-233"><a href="#cb94-233" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">armed_forces =</span> armed_forces <span class="sc">/</span> <span class="dv">100</span>)</span>
<span id="cb94-234"><a href="#cb94-234" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-235"><a href="#cb94-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-236"><a href="#cb94-236" aria-hidden="true" tabindex="-1"></a>Here is how we can remove remove variables with <span class="in">`mutate()`</span> (although the same can be done with <span class="in">`select()`</span> command):</span>
<span id="cb94-237"><a href="#cb94-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-240"><a href="#cb94-240" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-241"><a href="#cb94-241" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-242"><a href="#cb94-242" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(missioncountry, armed_forces) <span class="sc">%&gt;%</span> </span>
<span id="cb94-243"><a href="#cb94-243" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">armed_forces =</span> <span class="cn">NULL</span>)</span>
<span id="cb94-244"><a href="#cb94-244" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-245"><a href="#cb94-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-246"><a href="#cb94-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-247"><a href="#cb94-247" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Recoding Variable Types</span></span>
<span id="cb94-248"><a href="#cb94-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-249"><a href="#cb94-249" aria-hidden="true" tabindex="-1"></a>As you know from week 1, there are various data types in <span class="in">`R`</span>, such as numeric, character, logical, factors. For some purposes, we need to recode one type into another. Changing the type also works through the <span class="in">`mutate()`</span> in the same fashion, with the following syntax:</span>
<span id="cb94-250"><a href="#cb94-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-251"><a href="#cb94-251" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`var = as.character(var)`</span></span>
<span id="cb94-252"><a href="#cb94-252" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`var = as.numeric(var)`</span></span>
<span id="cb94-253"><a href="#cb94-253" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`var = as.logical(var)`</span></span>
<span id="cb94-254"><a href="#cb94-254" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`var = as.factor(var)`</span></span>
<span id="cb94-255"><a href="#cb94-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-258"><a href="#cb94-258" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-259"><a href="#cb94-259" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-260"><a href="#cb94-260" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb94-261"><a href="#cb94-261" aria-hidden="true" tabindex="-1"></a>    <span class="at">armed_forces =</span> <span class="fu">as.character</span>(armed_forces) </span>
<span id="cb94-262"><a href="#cb94-262" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb94-263"><a href="#cb94-263" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(armed_forces) <span class="sc">%&gt;%</span></span>
<span id="cb94-264"><a href="#cb94-264" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span>
<span id="cb94-265"><a href="#cb94-265" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-266"><a href="#cb94-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-267"><a href="#cb94-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-268"><a href="#cb94-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-269"><a href="#cb94-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-270"><a href="#cb94-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-271"><a href="#cb94-271" aria-hidden="true" tabindex="-1"></a><span class="fu">### `summarize` tibbles</span></span>
<span id="cb94-272"><a href="#cb94-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-273"><a href="#cb94-273" aria-hidden="true" tabindex="-1"></a>We often need to calculate *summary statistics*, things like the *mean* (also called the average) and the *median* (the middle value). Other examples of summary statistics include the *sum*, the *minimum*, the *maximum*, and the *standard deviation*.</span>
<span id="cb94-274"><a href="#cb94-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-275"><a href="#cb94-275" aria-hidden="true" tabindex="-1"></a>The function <span class="in">`summarize()`</span> allows us to calculate these statistics on individual columns from a tibble. Example:</span>
<span id="cb94-276"><a href="#cb94-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-279"><a href="#cb94-279" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-280"><a href="#cb94-280" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-281"><a href="#cb94-281" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb94-282"><a href="#cb94-282" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_armed_forces =</span> <span class="fu">mean</span>(armed_forces, <span class="at">na.rm =</span> T),</span>
<span id="cb94-283"><a href="#cb94-283" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_armed_forces =</span> <span class="fu">sd</span>(armed_forces, <span class="at">na.rm =</span> T) </span>
<span id="cb94-284"><a href="#cb94-284" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb94-285"><a href="#cb94-285" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-286"><a href="#cb94-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-287"><a href="#cb94-287" aria-hidden="true" tabindex="-1"></a>We can also let <span class="in">`R`</span> perform operations within subgroups, rather than on the entire dataset:</span>
<span id="cb94-288"><a href="#cb94-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-291"><a href="#cb94-291" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-292"><a href="#cb94-292" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-293"><a href="#cb94-293" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(mission) <span class="sc">%&gt;%</span></span>
<span id="cb94-294"><a href="#cb94-294" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb94-295"><a href="#cb94-295" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_armed_forces =</span> <span class="fu">median</span>(armed_forces, <span class="at">na.rm =</span> T),</span>
<span id="cb94-296"><a href="#cb94-296" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_armed_forces =</span> <span class="fu">max</span>(armed_forces, <span class="at">na.rm =</span> T) </span>
<span id="cb94-297"><a href="#cb94-297" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb94-298"><a href="#cb94-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-299"><a href="#cb94-299" aria-hidden="true" tabindex="-1"></a><span class="co"># how many observations (months) are there per mission </span></span>
<span id="cb94-300"><a href="#cb94-300" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> <span class="co"># take dataset</span></span>
<span id="cb94-301"><a href="#cb94-301" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(mission) <span class="sc">%&gt;%</span> <span class="co"># group by mission</span></span>
<span id="cb94-302"><a href="#cb94-302" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>())</span>
<span id="cb94-303"><a href="#cb94-303" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-304"><a href="#cb94-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-305"><a href="#cb94-305" aria-hidden="true" tabindex="-1"></a>This function can also be useful when we need to aggregate the dataset to another level. <span class="in">`unpko`</span> dataset is on mission-month level, but let's say we needed to aggregate it to mission-year instead. </span>
<span id="cb94-306"><a href="#cb94-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-307"><a href="#cb94-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-310"><a href="#cb94-310" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-311"><a href="#cb94-311" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-312"><a href="#cb94-312" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb94-313"><a href="#cb94-313" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_if</span>(is.numeric, sum, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) </span>
<span id="cb94-314"><a href="#cb94-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-315"><a href="#cb94-315" aria-hidden="true" tabindex="-1"></a><span class="co"># what is wrong in this code? how can you fix it?</span></span>
<span id="cb94-316"><a href="#cb94-316" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-317"><a href="#cb94-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-318"><a href="#cb94-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-319"><a href="#cb94-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-320"><a href="#cb94-320" aria-hidden="true" tabindex="-1"></a><span class="fu">## Handling Missing Data </span></span>
<span id="cb94-321"><a href="#cb94-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-322"><a href="#cb94-322" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Why do we care about missing data? </span>
<span id="cb94-323"><a href="#cb94-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-324"><a href="#cb94-324" aria-hidden="true" tabindex="-1"></a>There are two types of missing data:</span>
<span id="cb94-325"><a href="#cb94-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-326"><a href="#cb94-326" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Explicitly** missing means you can see an <span class="in">`NA`</span> in your data. _An explicit missing value is the presence of an absence._</span>
<span id="cb94-327"><a href="#cb94-327" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>**Implicitly** missing means an entire row of data is simply absent from the data. _An implicit missing value is the absence of a presence._</span>
<span id="cb94-328"><a href="#cb94-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-329"><a href="#cb94-329" aria-hidden="true" tabindex="-1"></a>Here we will primarily talk about the first kind, i.e. handling <span class="in">`NA`</span>s.  </span>
<span id="cb94-330"><a href="#cb94-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-331"><a href="#cb94-331" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basic Info</span></span>
<span id="cb94-332"><a href="#cb94-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-333"><a href="#cb94-333" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`NA`</span> in <span class="in">`R`</span> is a logical value, like <span class="in">`TRUE`</span> and <span class="in">`FALSE`</span> </span>
<span id="cb94-334"><a href="#cb94-334" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Sometimes <span class="in">`R`</span> may import missing data wrong (e.g. treat <span class="in">`NA`</span>s as character), so might need to explicitly recode it into <span class="in">`NA`</span> </span>
<span id="cb94-335"><a href="#cb94-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-338"><a href="#cb94-338" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-339"><a href="#cb94-339" aria-hidden="true" tabindex="-1"></a>example_numeric <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">8</span>, <span class="st">"NA"</span>, <span class="dv">9</span>, <span class="st">"missing"</span>, <span class="dv">10</span>, <span class="st">" "</span>, <span class="st">""</span>)</span>
<span id="cb94-340"><a href="#cb94-340" aria-hidden="true" tabindex="-1"></a>example_numeric </span>
<span id="cb94-341"><a href="#cb94-341" aria-hidden="true" tabindex="-1"></a>example_numeric <span class="sc">%&gt;%</span> <span class="fu">as.numeric</span>() <span class="co"># will convert all character into NAs</span></span>
<span id="cb94-342"><a href="#cb94-342" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-343"><a href="#cb94-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-344"><a href="#cb94-344" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Missing values represent the unknown so they are "contagious": almost any operation involving an unknown value will also be unknown</span>
<span id="cb94-345"><a href="#cb94-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-348"><a href="#cb94-348" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-349"><a href="#cb94-349" aria-hidden="true" tabindex="-1"></a><span class="cn">NA</span> <span class="sc">&gt;</span> <span class="dv">5</span></span>
<span id="cb94-350"><a href="#cb94-350" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(</span>
<span id="cb94-351"><a href="#cb94-351" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), </span>
<span id="cb94-352"><a href="#cb94-352" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb94-353"><a href="#cb94-353" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb94-354"><a href="#cb94-354" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-355"><a href="#cb94-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-356"><a href="#cb94-356" aria-hidden="true" tabindex="-1"></a><span class="fu">### Inspecting missing values </span></span>
<span id="cb94-357"><a href="#cb94-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-360"><a href="#cb94-360" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-361"><a href="#cb94-361" aria-hidden="true" tabindex="-1"></a><span class="co"># check if each individual observation is NA</span></span>
<span id="cb94-362"><a href="#cb94-362" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(unpko<span class="sc">$</span>troop)</span>
<span id="cb94-363"><a href="#cb94-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-364"><a href="#cb94-364" aria-hidden="true" tabindex="-1"></a><span class="co"># count all NAs in the variable </span></span>
<span id="cb94-365"><a href="#cb94-365" aria-hidden="true" tabindex="-1"></a><span class="co"># sum treats TRUE as 1 and FALSE as 0</span></span>
<span id="cb94-366"><a href="#cb94-366" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(unpko<span class="sc">$</span>troop) <span class="sc">%&gt;%</span></span>
<span id="cb94-367"><a href="#cb94-367" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>()</span>
<span id="cb94-368"><a href="#cb94-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-369"><a href="#cb94-369" aria-hidden="true" tabindex="-1"></a><span class="co"># sum(is.na(pei$PEIIndexp)) # same as above</span></span>
<span id="cb94-370"><a href="#cb94-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-371"><a href="#cb94-371" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the share of NAs in the variable </span></span>
<span id="cb94-372"><a href="#cb94-372" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(unpko<span class="sc">$</span>troop)) <span class="sc">/</span> </span>
<span id="cb94-373"><a href="#cb94-373" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>(unpko<span class="sc">$</span>troop)</span>
<span id="cb94-374"><a href="#cb94-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-375"><a href="#cb94-375" aria-hidden="true" tabindex="-1"></a><span class="co"># summary (contains NA info)</span></span>
<span id="cb94-376"><a href="#cb94-376" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(unpko<span class="sc">$</span>troop)</span>
<span id="cb94-377"><a href="#cb94-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-378"><a href="#cb94-378" aria-hidden="true" tabindex="-1"></a><span class="co"># summary for multiple columns (contains NA info)</span></span>
<span id="cb94-379"><a href="#cb94-379" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-380"><a href="#cb94-380" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(troop<span class="sc">:</span>militaryobservers, armed_forces) <span class="sc">%&gt;%</span></span>
<span id="cb94-381"><a href="#cb94-381" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span>
<span id="cb94-382"><a href="#cb94-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-383"><a href="#cb94-383" aria-hidden="true" tabindex="-1"></a><span class="co"># visual inspection </span></span>
<span id="cb94-384"><a href="#cb94-384" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-385"><a href="#cb94-385" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select(troop:militaryobservers, armed_forces) %&gt;%</span></span>
<span id="cb94-386"><a href="#cb94-386" aria-hidden="true" tabindex="-1"></a>  visdat<span class="sc">::</span><span class="fu">vis_miss</span>() </span>
<span id="cb94-387"><a href="#cb94-387" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-388"><a href="#cb94-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-389"><a href="#cb94-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-390"><a href="#cb94-390" aria-hidden="true" tabindex="-1"></a><span class="fu">### What _not_ to do: Remove `NA` as a first step </span></span>
<span id="cb94-391"><a href="#cb94-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-394"><a href="#cb94-394" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-395"><a href="#cb94-395" aria-hidden="true" tabindex="-1"></a><span class="fu">na.omit</span>(unpko)</span>
<span id="cb94-396"><a href="#cb94-396" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-397"><a href="#cb94-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-398"><a href="#cb94-398" aria-hidden="true" tabindex="-1"></a><span class="fu">### Better: Select the variables you work with and clean the dataset after </span></span>
<span id="cb94-399"><a href="#cb94-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-402"><a href="#cb94-402" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-403"><a href="#cb94-403" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-404"><a href="#cb94-404" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(mission, militaryobservers) <span class="sc">%&gt;%</span></span>
<span id="cb94-405"><a href="#cb94-405" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="co"># base R version </span></span>
<span id="cb94-406"><a href="#cb94-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-407"><a href="#cb94-407" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-408"><a href="#cb94-408" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(mission, militaryobservers) <span class="sc">%&gt;%</span></span>
<span id="cb94-409"><a href="#cb94-409" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="co"># tidyr version </span></span>
<span id="cb94-410"><a href="#cb94-410" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-411"><a href="#cb94-411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-412"><a href="#cb94-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-413"><a href="#cb94-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-414"><a href="#cb94-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-415"><a href="#cb94-415" aria-hidden="true" tabindex="-1"></a><span class="fu">## Adding Country/Region Identifiers</span></span>
<span id="cb94-416"><a href="#cb94-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-417"><a href="#cb94-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-418"><a href="#cb94-418" aria-hidden="true" tabindex="-1"></a>Often working with one dataset is not sufficient and we need to combine multiple datasets to work with variables together. Since our goal is to know if UN PKO personnel numbers impact conflict mortality, we would need data for mortality. For that, we will need to merge the <span class="in">`unpko`</span> dataset, and this will require us to have a variable that is common across the two datasets. <span class="in">`countrycode`</span> will help us with that. Let's see how it works by adding the region variable first: </span>
<span id="cb94-419"><a href="#cb94-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-420"><a href="#cb94-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-423"><a href="#cb94-423" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-424"><a href="#cb94-424" aria-hidden="true" tabindex="-1"></a>unpko <span class="ot">&lt;-</span> unpko <span class="sc">%&gt;%</span> <span class="co"># overwrite our dataset</span></span>
<span id="cb94-425"><a href="#cb94-425" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">region =</span> <span class="fu">countrycode</span>(missioncountry, <span class="st">"country.name"</span>, <span class="st">"continent"</span>))</span>
<span id="cb94-426"><a href="#cb94-426" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-427"><a href="#cb94-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-428"><a href="#cb94-428" aria-hidden="true" tabindex="-1"></a>We get the warning: </span>
<span id="cb94-429"><a href="#cb94-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-430"><a href="#cb94-430" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; Some values were not matched unambiguously: Central African Republic-Chad, Croatia-Bosnia-Herzegovina, Ethiopia-Eritrea, India-Pakistan, Iran-Iraq, Iraq-Kuwait, Kosovo, Kosovo/Yugoslavia, Unknown, Various</span></span>
<span id="cb94-431"><a href="#cb94-431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-432"><a href="#cb94-432" aria-hidden="true" tabindex="-1"></a>We need to code these observations manually. To do this, we first check which cases are affected (" , " indicates that we have observations with missing observations for a country).</span>
<span id="cb94-433"><a href="#cb94-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-434"><a href="#cb94-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-437"><a href="#cb94-437" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-438"><a href="#cb94-438" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-439"><a href="#cb94-439" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(mission, missioncountry, region, year) <span class="sc">%&gt;%</span> </span>
<span id="cb94-440"><a href="#cb94-440" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(region)) </span>
<span id="cb94-441"><a href="#cb94-441" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-442"><a href="#cb94-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-443"><a href="#cb94-443" aria-hidden="true" tabindex="-1"></a>As we can see, we do have observations with missing values in the <span class="in">`missioncountry`</span> variable. We will first code the <span class="in">`region`</span> variable for Kosovo and Yugoslavia manually. We use the <span class="in">`if_else()`</span> function. The logic is as follows: <span class="in">`if_else(test, yes, no)`</span>. Or, in plain words: If an object fulfills a certain value/logical mode (<span class="in">`test`</span>), then do whatever is in <span class="in">`yes`</span>. If not, do whatever is in <span class="in">`no`</span>. We will see this with the following example:</span>
<span id="cb94-444"><a href="#cb94-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-447"><a href="#cb94-447" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-448"><a href="#cb94-448" aria-hidden="true" tabindex="-1"></a>unpko <span class="ot">&lt;-</span> unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-449"><a href="#cb94-449" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb94-450"><a href="#cb94-450" aria-hidden="true" tabindex="-1"></a>    <span class="at">region =</span> <span class="fu">if_else</span>(missioncountry <span class="sc">==</span> <span class="st">"Kosovo"</span>, <span class="st">"Europe"</span>, region),</span>
<span id="cb94-451"><a href="#cb94-451" aria-hidden="true" tabindex="-1"></a>    <span class="at">region =</span> <span class="fu">if_else</span>(missioncountry <span class="sc">==</span> <span class="st">"Yugoslavia"</span>, <span class="st">"Europe"</span>, region)</span>
<span id="cb94-452"><a href="#cb94-452" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb94-453"><a href="#cb94-453" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-454"><a href="#cb94-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-455"><a href="#cb94-455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-456"><a href="#cb94-456" aria-hidden="true" tabindex="-1"></a>Can you write this code with <span class="in">`case_when`</span> command? </span>
<span id="cb94-457"><a href="#cb94-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-460"><a href="#cb94-460" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-461"><a href="#cb94-461" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb94-462"><a href="#cb94-462" aria-hidden="true" tabindex="-1"></a>unpko <span class="ot">&lt;-</span> unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-463"><a href="#cb94-463" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb94-464"><a href="#cb94-464" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb94-465"><a href="#cb94-465" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-466"><a href="#cb94-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-467"><a href="#cb94-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-468"><a href="#cb94-468" aria-hidden="true" tabindex="-1"></a>If we check now again, we see that we have only regions without a region code left that have no observation in <span class="in">`missioncountry`</span>. 343 missions had no mission country assigned at all:</span>
<span id="cb94-469"><a href="#cb94-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-472"><a href="#cb94-472" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-473"><a href="#cb94-473" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-474"><a href="#cb94-474" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(mission, missioncountry, region, year, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span> <span class="co"># Sort data</span></span>
<span id="cb94-475"><a href="#cb94-475" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="fu">is.na</span>(region)) </span>
<span id="cb94-476"><a href="#cb94-476" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-477"><a href="#cb94-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-478"><a href="#cb94-478" aria-hidden="true" tabindex="-1"></a>We will use the mission names (<span class="in">`mission`</span>) to identify the mission countries. To do this, we will first need to look up the distinct missions. </span>
<span id="cb94-479"><a href="#cb94-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-482"><a href="#cb94-482" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-483"><a href="#cb94-483" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-484"><a href="#cb94-484" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">is.na</span>(region)) <span class="sc">%&gt;%</span> <span class="co"># regions where there are missing values</span></span>
<span id="cb94-485"><a href="#cb94-485" aria-hidden="true" tabindex="-1"></a>    <span class="fu">distinct</span>(mission) <span class="co"># select only unique missions</span></span>
<span id="cb94-486"><a href="#cb94-486" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-487"><a href="#cb94-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-488"><a href="#cb94-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-491"><a href="#cb94-491" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-492"><a href="#cb94-492" aria-hidden="true" tabindex="-1"></a>unpko <span class="ot">&lt;-</span> unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-493"><a href="#cb94-493" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(region) <span class="co"># Drop all regions with NAs</span></span>
<span id="cb94-494"><a href="#cb94-494" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-495"><a href="#cb94-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-496"><a href="#cb94-496" aria-hidden="true" tabindex="-1"></a>If we want to check if there are still missing values in the <span class="in">`region`</span> variable, we use the following code:</span>
<span id="cb94-497"><a href="#cb94-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-500"><a href="#cb94-500" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-501"><a href="#cb94-501" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-502"><a href="#cb94-502" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(region)) </span>
<span id="cb94-503"><a href="#cb94-503" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-504"><a href="#cb94-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-505"><a href="#cb94-505" aria-hidden="true" tabindex="-1"></a>Or we could also count if there are still missing values:</span>
<span id="cb94-506"><a href="#cb94-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-509"><a href="#cb94-509" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-510"><a href="#cb94-510" aria-hidden="true" tabindex="-1"></a>unpko <span class="sc">%&gt;%</span></span>
<span id="cb94-511"><a href="#cb94-511" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(region))) </span>
<span id="cb94-512"><a href="#cb94-512" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-513"><a href="#cb94-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-514"><a href="#cb94-514" aria-hidden="true" tabindex="-1"></a>We will now restrict our dataset to the African continent and store it in the <span class="in">`data`</span> folder.</span>
<span id="cb94-515"><a href="#cb94-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-518"><a href="#cb94-518" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-519"><a href="#cb94-519" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb94-520"><a href="#cb94-520" aria-hidden="true" tabindex="-1"></a>unpko_africa <span class="ot">&lt;-</span> unpko <span class="sc">%&gt;%</span> </span>
<span id="cb94-521"><a href="#cb94-521" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(region <span class="sc">==</span> <span class="st">"Africa"</span>)</span>
<span id="cb94-522"><a href="#cb94-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-523"><a href="#cb94-523" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(unpko_africa, <span class="st">"data/unpko_africa.csv"</span>)</span>
<span id="cb94-524"><a href="#cb94-524" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-525"><a href="#cb94-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-526"><a href="#cb94-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-527"><a href="#cb94-527" aria-hidden="true" tabindex="-1"></a><span class="fu">## Practice Exercise</span></span>
<span id="cb94-528"><a href="#cb94-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-529"><a href="#cb94-529" aria-hidden="true" tabindex="-1"></a>Using the commands required for data wrangling and visualization, try to replicate the following figure:</span>
<span id="cb94-530"><a href="#cb94-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-531"><a href="#cb94-531" aria-hidden="true" tabindex="-1"></a><span class="al">![](https://journals.sagepub.com/cms/10.1177/0738894213491180/asset/images/large/10.1177_0738894213491180-fig3.jpeg)</span></span>
<span id="cb94-532"><a href="#cb94-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-533"><a href="#cb94-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-534"><a href="#cb94-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-537"><a href="#cb94-537" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb94-538"><a href="#cb94-538" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb94-539"><a href="#cb94-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-540"><a href="#cb94-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-541"><a href="#cb94-541" aria-hidden="true" tabindex="-1"></a><span class="fu">## Next Time</span></span>
<span id="cb94-542"><a href="#cb94-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-543"><a href="#cb94-543" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Merging Datasets</span>
<span id="cb94-544"><a href="#cb94-544" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Creating Panel-like Structure </span>
<span id="cb94-545"><a href="#cb94-545" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Generating Post-Conflict Data</span>
<span id="cb94-546"><a href="#cb94-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-547"><a href="#cb94-547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-548"><a href="#cb94-548" aria-hidden="true" tabindex="-1"></a><span class="fu">## Resources</span></span>
<span id="cb94-549"><a href="#cb94-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-550"><a href="#cb94-550" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Chapter 4 **Data transformation** in <span class="ot">&lt;https://r4ds.hadley.nz/data-transform&gt;</span></span>
<span id="cb94-551"><a href="#cb94-551" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Section 2.5 **Visualizing relationships** in <span class="ot">&lt;https://r4ds.hadley.nz/data-visualize#visualizing-relationships&gt;</span></span>
<span id="cb94-552"><a href="#cb94-552" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Chapter 10 **Missing values** in <span class="ot">&lt;https://r4ds.hadley.nz/missing-values&gt;</span></span>
<span id="cb94-553"><a href="#cb94-553" aria-hidden="true" tabindex="-1"></a></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>